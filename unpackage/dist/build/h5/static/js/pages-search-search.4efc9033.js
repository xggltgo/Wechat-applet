(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"03ff":function(e,t,n){"use strict";n.r(t);var r=n("3045"),a=n("d293");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("06e7");var c,o=n("f0c5"),s=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"6807f0d0",null,!1,r["a"],c);t["default"]=s.exports},"06e7":function(e,t,n){"use strict";var r=n("5723"),a=n.n(r);a.a},"08d1":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 多行注释 */\r\n/* 全局系统样式定义 */.nav-bar-container[data-v-47c78503]{width:100%}.nav-bar-container .container[data-v-47c78503]{background:#ff6370;width:100%;position:fixed;left:0;top:0;padding:0 %?30?% %?20?%;box-sizing:border-box;z-index:99}.nav-bar-container .container .icon[data-v-47c78503]{position:absolute;left:%?10?%;height:%?60?%;display:flex;align-items:center;justify-content:center;flex-wrap:nowrap;flex-direction:row}.nav-bar-container .container .search[data-v-47c78503]{background:#fff;display:flex;align-items:center;justify-content:flex-start;flex-wrap:nowrap;flex-direction:row;border-radius:%?30?%;height:%?60?%;padding-left:%?20?%;box-sizing:border-box}.nav-bar-container .container .search .searchText[data-v-47c78503]{color:#999;font-size:%?28?%;margin-left:%?20?%}.nav-bar-container .container .search uni-input[data-v-47c78503]{font-size:%?28?%;padding-left:%?20?%;box-sizing:border-box;color:#333;flex-grow:1}',""]),e.exports=t},"117f":function(e,t,n){var r=n("08d1");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("53e93e40",r,!0,{sourceMap:!1,shadowMode:!1})},"12ef":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 多行注释 */\r\n/* 全局系统样式定义 */uni-page-body[data-v-6807f0d0]{background:#f5f5f5}.search-container[data-v-6807f0d0]{display:flex;flex-direction:column;height:100vh;overflow:hidden;background:#f5f5f5}.search-container .search-history-container[data-v-6807f0d0]{background:#fff}.search-container .search-history-container .header[data-v-6807f0d0]{display:flex;align-items:center;justify-content:space-between;flex-wrap:nowrap;flex-direction:row;font-size:%?28?%;padding:%?20?% %?30?%;box-sizing:border-box;border-bottom:%?2?% solid #f5f5f5}.search-container .search-history-container .has-history-records[data-v-6807f0d0]{padding:%?20?% %?30?%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;flex-direction:row}.search-container .search-history-container .has-history-records .history-records-item[data-v-6807f0d0]{padding:%?10?% %?20?%;border:%?1?% solid #ff6370;border-radius:%?20?%;margin-right:%?10?%;margin-bottom:%?10?%;font-size:%?24?%;color:#ff6370;box-sizing:border-box}.search-container .search-content-container[data-v-6807f0d0]{flex-grow:1;overflow:hidden auto;height:100%}.no-data[data-v-6807f0d0]{height:%?400?%;display:flex;align-items:center;justify-content:center;flex-wrap:nowrap;flex-direction:row;font-size:%?24?%;color:#999}body.?%PAGE?%[data-v-6807f0d0]{background:#f5f5f5}',""]),e.exports=t},3045:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={NavBar:n("d106").default,ArticleList:n("d266").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"search-container"},[n("NavBar",{attrs:{oldSearchText:e.oldSearchText,isSearchPage:e.isSearchPage},on:{confirmSearch:function(t){arguments[0]=t=e.$handleEvent(t),e._handleConfirmSearch.apply(void 0,arguments)},updateSearchText:function(t){arguments[0]=t=e.$handleEvent(t),e.handleUpdateSearchText.apply(void 0,arguments)}}}),e.isSearching?n("v-uni-view",{staticClass:"search-content-container"},[e.searchedArticleList.length?n("v-uni-view",{staticClass:"has-data"},[n("ArticleList",{attrs:{isSearchPage:!e.isSearchPage,articleList:e.searchedArticleList},on:{canSaveHistory:function(t){arguments[0]=t=e.$handleEvent(t),e.handleCanSaveHistory.apply(void 0,arguments)}}})],1):n("v-uni-view",{staticClass:"no-data"},[e._v("没有搜索到相关数据")])],1):n("v-uni-view",{staticClass:"search-history-container"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-text",{staticStyle:{color:"#FF6370"}},[e._v("搜索历史")]),n("v-uni-text",{staticStyle:{color:"#18BC37","font-weight":"bold"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearAllHistory.apply(void 0,arguments)}}},[e._v("清空")])],1),n("v-uni-view",{staticClass:"history-records"},[e.historicalRecordsInfo.length?n("v-uni-view",{staticClass:"has-history-records"},e._l(e.historicalRecordsInfo,(function(t){return n("v-uni-text",{key:t,staticClass:"history-records-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleClickHistoryRecords(t)}}},[e._v(e._s(t))])})),1):n("v-uni-view",{staticClass:"no-data"},[n("v-uni-text",[e._v("当前没有搜索历史")])],1)],1)],1)],1)},i=[]},"37b2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}));var r={uniIcons:n("88e7").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"nav-bar-container"},[n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{style:{height:e.statusBarHeight+"rpx"}}),e.isSearchPage?n("v-uni-view",{staticClass:"icon",style:{top:e.statusBarHeight+"rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backToArticleList.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"back",size:"22",color:"#fff"}})],1):e._e(),n("v-uni-view",{staticClass:"search",style:{marginRight:e.searchMarginRight+"rpx",marginLeft:e.isSearchPage?"30rpx":""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.linkToSearchPage.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"search",size:"mini",color:"#999"}}),e.isSearchPage?e._e():n("v-uni-view",{staticClass:"searchText"},[e._v("输入文章标题进行搜索")]),e.isSearchPage?n("v-uni-input",{attrs:{focus:!0,type:"text",placeholder:"输入文章标题进行搜索","confirm-type":"搜索"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmSearch.apply(void 0,arguments)}},model:{value:e.searchText,callback:function(t){e.searchText="string"===typeof t?t.trim():t},expression:"searchText"}}):e._e()],1)],1),n("v-uni-view",{style:{height:e.statusBarHeight+80+"rpx"}})],1)},i=[]},5723:function(e,t,n){var r=n("12ef");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("510981fa",r,!0,{sourceMap:!1,shadowMode:!1})},7588:function(e,t,n){"use strict";n.r(t);var r=n("fb02"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},"96eb":function(e,t,n){"use strict";var r=n("117f"),a=n.n(r);a.a},d106:function(e,t,n){"use strict";n.r(t);var r=n("37b2"),a=n("7588");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("96eb");var c,o=n("f0c5"),s=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"47c78503",null,!1,r["a"],c);t["default"]=s.exports},d1ed:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=r(n("1da1")),i=r(n("5530")),c=n("26cb"),o={name:"Search",data:function(){return{isSearchPage:!0,isSearching:!1,oldSearchText:"",searchedArticleList:[]}},computed:(0,i.default)({},(0,c.mapState)("historicalRecords",["historicalRecordsInfo"])),methods:(0,i.default)((0,i.default)({_handleConfirmSearch:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.oldSearchText){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.searchArticleList({searchKeyword:e.oldSearchText});case 4:e.searchedArticleList=t.sent,e.isSearching=!0;case 6:case"end":return t.stop()}}),t)})))()},handleCanSaveHistory:function(){this.initHistoricalRecordsInfo(this.oldSearchText)}},(0,c.mapMutations)("historicalRecords",["initHistoricalRecordsInfo","clearAllHistoricalRecords"])),{},{handleUpdateSearchText:function(e){e||(this.isSearching=!1),this.oldSearchText=e},clearAllHistory:function(){this.clearAllHistoricalRecords()},handleClickHistoryRecords:function(e){this.oldSearchText=e,this._handleConfirmSearch()}})};t.default=o},d293:function(e,t,n){"use strict";n.r(t);var r=n("d1ed"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},fb02:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"NavBar",props:{isSearchPage:{type:Boolean,default:!1},oldSearchText:{type:String}},created:function(){this.handleStateBarHeigh()},data:function(){return{statusBarHeight:20,searchMarginRight:0}},computed:{searchText:{get:function(){return this.oldSearchText},set:function(e){this.$emit("updateSearchText",e)}}},methods:{handleStateBarHeigh:function(){var e=uni.getSystemInfoSync();e.statusBarHeight&&(this.statusBarHeight=2*e.statusBarHeight)},linkToSearchPage:function(){this.isSearchPage||uni.navigateTo({url:"/pages/search/search"})},backToArticleList:function(){uni.switchTab({url:"/pages/index/index"})},confirmSearch:function(){this.$emit("confirmSearch")}}};t.default=r}}]);